#!/bin/bash

echo 'Go to the GIT directory'
cd /gitrepo 
$SHELL
echo 'Remove Containers'
docker stop $(docker ps -a -q)
docker rm $(docker ps -a -q)

echo "Building.."
docker compose build
	
echo "Testing.."
dotnet restore /gitrepo/src/Server/Server.csproj

echo 'Docker container down'
docker compose down

echo 'Docker container up'
docker compose up -d

exit
